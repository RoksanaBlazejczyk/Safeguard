@page "/page3"
@using SafeGuard.Services
@inject NavigationManager Nav
@inject SafeGuard.Services.LayoutState LayoutState

<MudContainer Class="d-flex justify-center" Style="height: 100vh; background-color: #B9B5B0;">

    <!-- Header Section at the top -->
    <MudGrid Justify="Justify.Center" Style="margin-top: 2rem;">
        <MudItem xs="12">
            <MudText Typo="Typo.h3" Align="Align.Center" Class="mb-4" Style="font-weight: bold; color: #333;">
                How have you become aware of this incident?
            </MudText>
        </MudItem>
    </MudGrid>

    <!-- Button Grid -->
    <MudGrid Justify="Justify.Center" AlignItems="AlignItems.Center" Spacing="3" Style="margin-top: 2rem;">

        <!-- Suspicion of Neglect/Abuse -->
        <MudItem xs="12" sm="6" md="3" class="d-flex justify-content-center">
            <MudButton OnClick="ToPage4Suspicion" Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="animated-button">
                Suspicion of neglect/abuse
            </MudButton>
        </MudItem>

        <!-- Allegation of Neglect/Abuse -->
        <MudItem xs="12" sm="6" md="3" class="d-flex justify-content-center">
            <MudButton OnClick="ToPage4Allegation" Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="animated-button">
                Allegation of neglect/abuse
            </MudButton>
        </MudItem>

        <!-- Concerns about someone's behaviour -->
        <MudItem xs="12" sm="6" md="3" class="d-flex justify-content-center">
            <MudButton OnClick="ToPage4Concern" Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="animated-button">
                Concerns about someone's behaviour
            </MudButton>
        </MudItem>

        <!-- At Risk to Self or Others -->
        <MudItem xs="12" sm="6" md="3" class="d-flex justify-content-center">
            <MudButton OnClick="ToPage4Risk" Variant="Variant.Filled" Color="Color.Primary" FullWidth="true" Class="animated-button">
                At risk to self or others
            </MudButton>
        </MudItem>

    </MudGrid>

</MudContainer>

@code {

    void ToPage4Suspicion()
    {
        LayoutState.UpdateProgress(67); // Move to 67% when navigating to Page 4
        Nav.NavigateTo("/page4");
    }

    void ToPage4Allegation()
    {
        LayoutState.UpdateProgress(67);
        Nav.NavigateTo("/page4");
    }

    void ToPage4Concern()
    {
        LayoutState.UpdateProgress(67);
        Nav.NavigateTo("/page4");
    }

    void ToPage4Risk()
    {
        LayoutState.UpdateProgress(67);
        Nav.NavigateTo("/page4");
    }
}
