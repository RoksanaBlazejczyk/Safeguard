@page "/page3"
@using SafeGuard.Services
@inject NavigationManager Nav
@inject SafeGuard.Services.LayoutState LayoutState
@inject CollectedAnswers Answer

<MudContainer Class="d-flex justify-center mt-3">
    <MudCard Elevation="5" Class="p-3 w-100">
        <!-- Title area -->
        <MudCardContent Class="d-flex justify-center">
            <MudText Typo="Typo.h4" Style="font-size: 32px; font-weight: bold; text-align: center;">
                Who does it relate to?
            </MudText>
        </MudCardContent>

        <MudGrid class="d-flex justify-center align-content-center" Style="margin-top: 3rem;">
            <!-- Suspicion of neglect/abuse button -->
            <MudItem xs="12" sm="12" lg="6">
                <MudCard Style="background-color: #e0e0e0; border: 5px solid black; height: 150px;">
                    <MudCardContent Class="d-flex justify-center align-items-center">
                        <MudButton OnClick="@(() => ToPage4Suspicion("suspicion"))" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary" Style="font-size: 16px; height: 100%; border-radius: 4px; display: flex; align-items: center; justify-content: center; border: 5px solid black;">
                            Suspicion of neglect/abuse
                        </MudButton>
                    </MudCardContent>
                </MudCard>
            </MudItem>

            <!-- Allegation of neglect/abuse button -->
            <MudItem xs="12" sm="12" lg="6">
                <MudCard Style="background-color: #e0e0e0; border: 5px solid black; height: 150px;">
                    <MudCardContent Class="d-flex justify-center align-items-center">
                        <MudButton OnClick="@(() => ToPage4Allegation("allegation"))" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary" Style="font-size: 16px; height: 100%; border-radius: 4px; display: flex; align-items: center; justify-content: center; border: 5px solid black;">
                            Allegation of neglect/abuse
                        </MudButton>
                    </MudCardContent>
                </MudCard>
            </MudItem>

            <!-- Concerns about someone's behaviour button -->
            <MudItem xs="12" sm="12" lg="6">
                <MudCard Style="background-color: #e0e0e0; border: 5px solid black; height: 150px;">
                    <MudCardContent Class="d-flex justify-center align-items-center">
                        <MudButton OnClick="@(() => ToPage4Concern("concerns"))" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary" Style="font-size: 16px; height: 100%; border-radius: 4px; display: flex; align-items: center; justify-content: center; border: 5px solid black;">
                            Concerns about someone's behaviour
                        </MudButton>
                    </MudCardContent>
                </MudCard>
            </MudItem>

            <!-- At risk to self or others button -->
            <MudItem xs="12" sm="12" lg="6">
                <MudCard Style="background-color: #e0e0e0; border: 5px solid black; height: 150px;">
                    <MudCardContent Class="d-flex justify-center align-items-center">
                        <MudButton OnClick="@(() => ToPage4Risk("risk"))" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary" Style="font-size: 16px; height: 100%; border-radius: 4px; display: flex; align-items: center; justify-content: center; border: 5px solid black;">
                            At risk to self or others
                        </MudButton>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </MudGrid>
    </MudCard>
</MudContainer>





@code {

    @*Method if person clicks Suspicion of neglect/abuse*@

    void ToPage4Suspicion(String answer)

    {
        Answer.Answer3 = answer;
        LayoutState.UpdateProgress(57); // Move to 67% when navigating to Page 4
        Nav.NavigateTo("/page4");
    }

    @*Method if person clicks Allegation of neglect/abuse*@

    void ToPage4Allegation(String answer)

    {
        Answer.Answer3 = answer;
        LayoutState.UpdateProgress(57);
        Nav.NavigateTo("/page4");
    }

    @*Method if person clicks Concerns about someone’s behaviour*@

    void ToPage4Concern(String answer)

    {
        Answer.Answer3 = answer;
        LayoutState.UpdateProgress(57);
        Nav.NavigateTo("/page4");
    }

    @*Method if person clicks At risk to self or others*@

    void ToPage4Risk(String answer)

    {
        Answer.Answer3 = answer;
        LayoutState.UpdateProgress(57);
        Nav.NavigateTo("/page4");
    }

}

