@page "/page4"
@using SafeGuard.Services
@inject NavigationManager Nav
@inject SafeGuard.Services.LayoutState LayoutState
@inject CollectedAnswers Answer

<MudContainer Class="d-flex justify-center mt-3">
    <MudCard Elevation="5" Class="p-3 w-100">
        <!-- Title area -->
        <MudCardContent Class="d-flex justify-center">
            <MudText Typo="Typo.h4" Style="font-size: 32px; font-weight: bold; text-align: center;">
                Is it a school student or NCL student?
            </MudText>
        </MudCardContent>

        <MudGrid class="d-flex justify-center align-content-center" Style="margin-top: 3rem;">
            <MudItem xs="12" sm="12" lg="6">
                <MudCard>
                    <MudCardContent class="d-flex flex-column align-items-center">
                        <MudText Typo="Typo.h6">School Student</MudText>
                    </MudCardContent>
                    <MudCardMedia Image="images/page4school.jpg" Style="height: 250px; width: 250px; object-fit: contain; margin: 16px auto;" />
                    <MudCardActions>
                        <MudButton OnClick="@(() => ToPageSchool("schoolStudent"))" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary">Select</MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>
            <MudItem xs="12" sm="12" lg="6">
                <MudCard>
                    <MudCardContent class="d-flex flex-column align-items-center">
                        <MudText Typo="Typo.h6">NCL Student</MudText>
                    </MudCardContent>
                    <MudCardMedia Image="images/page4NCL.jpg" Style="height: 250px; width: 250px; object-fit: contain; margin: 16px auto;" />
                    <MudCardActions>
                        <MudButton OnClick="@(() => ToPageNCL("nclStudent"))" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary">Select</MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>
        </MudGrid>
    </MudCard>
</MudContainer>


@code {
    void ToPageSchool(String answer)
    {
        Answer.Answer4 = answer;
        LayoutState.UpdateProgress(71); // Move to 84% when navigating to Page 5
        Nav.NavigateTo("/page5");
    }
    void ToPageNCL(String answer)
    {
        Answer.Answer4 = answer;
        LayoutState.UpdateProgress(71);
        Nav.NavigateTo("/page8");
    }
}
