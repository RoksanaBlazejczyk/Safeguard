@page "/page4"
@using SafeGuard.Services
@inject NavigationManager Nav
@inject SafeGuard.Services.LayoutState LayoutState
@inject CollectedAnswers Answer

<MudContainer Class="d-flex justify-center mt-3">
    <MudCard Elevation="5" Class="p-3 w-100">

        <MudGrid Justify="Justify.Center">
            <MudItem xs="12">
                <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-4" Style="font-weight: bold; color: #333;">
                    Is this a School Student or NCL Student?
                </MudText>
            </MudItem>
        </MudGrid>

        <MudGrid Class="d-flex justify-center align-content-center" Style="margin: 3rem 0; gap: 2rem;">

            <!-- School Student -->
            <MudItem xs="12" sm="6" lg="3">
                <MudCard Class="text-center" Style="height: 500px; display: flex; flex-direction: column; justify-content: space-between;">
                    <MudCardMedia Image="images/page4school.png" Style="height: 300px; object-fit: contain;" />
                    <MudCardContent Style="flex-grow: 1;">
                        <MudText Typo="Typo.h6">School Student</MudText>
                        <MudText Class="mt-2" Style="color: grey;">For students attending school.</MudText>
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton OnClick="ToPageSchool" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary">Select</MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>

            <!-- NCL Student -->
            <MudItem xs="12" sm="6" lg="3">
                <MudCard Class="text-center" Style="height: 500px; display: flex; flex-direction: column; justify-content: space-between;">
                    <MudCardMedia Image="images/page4NCL.png" Style="height: 300px; object-fit: contain;" />
                    <MudCardContent Style="flex-grow: 1;">
                        <MudText Typo="Typo.h6">NCL Student</MudText>
                        <MudText Class="mt-2" Style="color: grey;">For NCL students.</MudText>
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton OnClick="ToPageNCL" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary">Select</MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>

        </MudGrid>

    </MudCard>
</MudContainer>

@code {
    void ToPageSchool()
    {
        LayoutState.UpdateProgress(84); // Move to 84% when navigating to Page 5
        Nav.NavigateTo("/page5");
    }

    void ToPageNCL()
    {
        LayoutState.UpdateProgress(84);
        Nav.NavigateTo("/page8");
    }
}
s