@page "/page5"
@using SafeGuard.Services
@inject NavigationManager Nav
@inject SafeGuard.Services.LayoutState LayoutState
@inject CollectedAnswers Answer

<MudContainer Class="d-flex justify-center mt-3">
    <MudCard Elevation="5" Class="p-3 w-100">

        <SafeguardingHeader Title="Where did the School Pupil Disclose?" />

        <MudGrid class="d-flex justify-center align-content-center" Style="margin-top: 3rem;">
            <MudItem xs="12" sm="12" lg="6">
                <MudCard Style="background-color: #e0e0e0;">
                    <MudCardContent Class="d-flex justify-center text-center">
                        <MudText Typo="Typo.h6">In School Premises</MudText>
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton OnClick="@(() => ToPage7("schoolPremises"))" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary">Select</MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>
            <MudItem xs="12" sm="12" lg="6">
                <MudCard Style="background-color: #e0e0e0;">
                    <MudCardContent Class="d-flex justify-center text-center">
                        <MudText Typo="Typo.h6">In NCL Premises</MudText>
                    </MudCardContent>
                    <MudCardActions>
                        <MudButton OnClick="@(() => ToPage6("nclPremises"))" Variant="Variant.Filled" FullWidth="true" Color="Color.Primary">Select</MudButton>
                    </MudCardActions>
                </MudCard>
            </MudItem>
        </MudGrid>
    </MudCard>
</MudContainer>

@code {
    void ToPage7(string answer)
    {
        Answer.Answer5 = answer;
        LayoutState.UpdateProgress(86);  // Update progress bar to 86%
        Nav.NavigateTo("/page7");
    }

    void ToPage6(string answer)
    {
        Answer.Answer5 = answer;
        LayoutState.UpdateProgress(86);  // Update progress bar to 86%
        Nav.NavigateTo("/page6");
    }
}
