@page "/page5"
@using SafeGuard.Services
@inject NavigationManager Nav
@inject SafeGuard.Services.LayoutState LayoutState
@inject CollectedAnswers Answer

<div style="background-color: #B9B5B0; height: 100vh;">

    <!-- Header -->
    <MudGrid Justify="Justify.Center">
        <MudItem xs="12" sm="8" md="6">
            <h1 style="text-align: center;">Where did the School Pupil Disclose?</h1>
        </MudItem>
    </MudGrid>

    <br />

    <!-- Options -->
    <MudGrid Justify="Justify.Center" AlignItems="AlignItems.Center">

        <!-- In School Premises -->
        <MudItem xs="6" sm="6" md="6" class="d-flex justify-content-center">
            <MudPaper Class="d-flex flex-column align-items-center justify-content-center"
                      Width="256px" Height="200px"
                      Style="background-color: #FFFFFF; border-radius: 15px; padding: 20px; box-shadow: 2px 2px 10px rgba(0,0,0,0.1);">
                <MudButton OnClick="@(() => ToPage7("school"))" Variant="Variant.Filled"
                           Class="animated-button blue-button">
                    In School Premises
                </MudButton>
            </MudPaper>
        </MudItem>

        <!-- In NCL Premises -->
        <MudItem xs="6" sm="6" md="6" class="d-flex justify-content-center">
            <MudPaper Class="d-flex flex-column align-items-center justify-content-center"
                      Width="256px" Height="200px"
                      Style="background-color: #FFFFFF; border-radius: 15px; padding: 20px; box-shadow: 2px 2px 10px rgba(0,0,0,0.1);">
                <MudButton OnClick="@(() => ToPage6("ncl"))" Variant="Variant.Filled"
                           Class="animated-button green-button">
                    In NCL Premises
                </MudButton>
            </MudPaper>
        </MudItem>

    </MudGrid>

</div>

@code {
    void ToPage7(string answer)
    {
        Answer.Answer5 = answer;
        LayoutState.UpdateProgress(86);  // Update progress bar to 86%
        Nav.NavigateTo("/page7");
    }

    void ToPage6(string answer)
    {
        Answer.Answer5 = answer;
        LayoutState.UpdateProgress(86);  // Update progress bar to 86%
        Nav.NavigateTo("/page6");
    }
}
